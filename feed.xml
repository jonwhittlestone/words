<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.3.4">Jekyll</generator><link href="https://words.howapped.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://words.howapped.com/" rel="alternate" type="text/html" /><updated>2026-02-01T06:54:05+00:00</updated><id>https://words.howapped.com/feed.xml</id><title type="html">howapped words</title><subtitle>Learnings and updates from the Howapped labs.</subtitle><entry><title type="html">Test Scheduled Publish</title><link href="https://words.howapped.com/test/2026/02/01/test-scheduled-publish.html" rel="alternate" type="text/html" title="Test Scheduled Publish" /><published>2026-02-01T00:00:00+00:00</published><updated>2026-02-01T00:00:00+00:00</updated><id>https://words.howapped.com/test/2026/02/01/test-scheduled-publish</id><content type="html" xml:base="https://words.howapped.com/test/2026/02/01/test-scheduled-publish.html"><![CDATA[<p>This is a test post for the scheduled publishing workflow.</p>]]></content><author><name></name></author><category term="Test" /><summary type="html"><![CDATA[Testing the scheduled publish workflow]]></summary></entry><entry><title type="html">A visual guide to OAuth and OpenID Connect (with added SPA)</title><link href="https://words.howapped.com/authentication/single%20sign%20on/sso/2022/09/14/spa-react-oidc-oauth-flow-okta.html" rel="alternate" type="text/html" title="A visual guide to OAuth and OpenID Connect (with added SPA)" /><published>2022-09-14T00:00:00+00:00</published><updated>2022-09-14T00:00:00+00:00</updated><id>https://words.howapped.com/authentication/single%20sign%20on/sso/2022/09/14/spa-react-oidc-oauth-flow-okta</id><content type="html" xml:base="https://words.howapped.com/authentication/single%20sign%20on/sso/2022/09/14/spa-react-oidc-oauth-flow-okta.html"><![CDATA[<p>The following shows the OAuth2.0 flow for granting access to your API, with the OpenID connect layer for communicating identity information about the user.</p>

<h3 id="simple-oidc-flow-between-resource-server-and-auth-server">Simple OIDC Flow between Resource Server and Auth Server</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1. Resource server (our api) &gt;-&gt;-&gt;-&gt;-&gt;-&gt;-&gt;-&gt;-&gt;-&gt; Auth server (Okta)
  - API route: /authorization-code/login
  - Description: redirect to auth server login.

    The resource service and therefore client, expects to receive an authorisation code

  - Python function: authorize()
  - Example login url
    - https://newscorp.oktapreview.com/oauth2/default/v1/authorize?client_id=0oa10kbogxjjvDCUW0h8&amp;response_type=code&amp;scope=openid profile email&amp;state=cd0348b84d8f45a8808a39d5763b49a3&amp;nonce=c96bdb88ef184a8caaedeefd366e8881&amp;redirect_uri=http://127.0.0.1:3001/authorization-code/callback

2. Resource server (our api) &lt;-&lt;-&lt;-&lt;-&lt;-&lt;-&lt;-&lt;-&lt;-&lt; Auth server (Okta)
  - API route: /authorization-code/callback
  - Description: Get tokens

    Swap the auth_code and client_secret for an access token.
    This is the key that the client will use from that point
    forward to communicate with the resource server.

  - Python function: callback()
  - Example to get tokens by providing client_secret:
    - https://newscorp.oktapreview.com/oauth2/default/v1/token?client_id=0oa10kbogxjjvDCUW0h8&amp;client_secret=5ketFKpwhMGGSnpJyMNLiYlQfrLxhksJDTerqwof&amp;grant_type=authorization_code&amp;redirect_uri=http://127.0.0.1:3001/authorization-code/callback&amp;code=DpgBENTLyEV0ZlG9MTv9kGWaTMH2G8nnoh0PejbUvAE

</code></pre></div></div>

<h3 id="advanced-oidc-flow-between-spa-resource-server-and-auth-server">Advanced OIDC Flow between SPA, Resource Server and Auth Server</h3>

<p>Front Channel means non-trusted communication</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â¼â¼â¼â¼â–º
</code></pre></div></div>

<p>Back Channel means â€˜trust in the connectionâ€™</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>â¼ â¼ â¼â–º
</code></pre></div></div>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>||     ğŸ§”       ||      ||        ğŸ’»         ||       ||         ğŸ’»        ||
=============================================================================
1. SPA (F/E)      â¼â¼â¼â¼â–º   Resource Server (API)              Auth Server (Okta)
  - XHR request in JS to /api/login
  - API gets secrets for authorize url (eg client_id)
  - API returns login_url containing authorize url for Okta Response payload


2. SPA (F/E)      â—„â¼ â¼ â¼   Resource Server (API)              Auth Server (Okta)
  - API returns json object with login url
  - {"login_url": https://newscorp.oktapreview.com/oauth2/default/v1/authorize?client_id=0oa10kbogxjjvDCUW0h8&amp;response_type=code&amp;scope=openid profile email&amp;state=cd0348b84d8f45a8808a39d5763b49a3&amp;nonce=c96bdb88ef184a8caaedeefd366e8881&amp;redirect_uri=http://127.0.0.1:3001/authorization-code/callback}


3. SPA (F/E)      â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â–º   Auth Server (Okta)
  - Frontend pushes user to the login_url


4. SPA (F/E)      â—„â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼ â¼   Auth Server (Okta)
  - The user will receive Okta challenge login page


5. SPA (F/E)      â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â–º   Auth Server (Okta)
  - User submits credentials and/or 2FA


6. SPA (F/E)      â—„â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼â¼   Auth Server (Okta)
  - If credentials are good the callback on the F/E can proceed
  - The authorisation code is granted. ("code grant")
  - GET https://{CLIENT_URL}/callback?code={UNIQUE_CODE}


7. SPA (F/E)      â¼â¼â¼â¼â–º   Resource Server (API)              Auth Server (Okta)
  - XHR request in JS to /api/callback?code={UNIQUE_CODE}


8. SPA (F/E)              Resource Server (API)     â¼â¼â¼â¼â–º    Auth Server (Okta)
  - The code grant is then used to retrieve an access token from Okta
  - The API has the client secret. We have kept it secure and not exposed in in frontend.
  - POST https://{OKTA_DOMAIN}/token?code={UNIQUE_CODE}&amp;{CLIENT_ID}&amp;client_secret={CLIENT_SECRET}

9. SPA (F/E)              Resource Server (API)     â—„â¼ â¼ â¼   Auth Server (Okta)
  - Okta replies to our API with the access token
  - status=200, data={ACCESS_TOKEN}
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Optional - user info                                                                   â”‚
â”‚                                                                                        |
â”‚  SPA (F/E)               Resource Server (API)  â”€â”€â”€â”€â”€â”€â”€â–º     Auth Server (Okta)        |
â”‚  - Access /userinfo using access token                                                 |
â”‚  - https://{OKTA_DOMAIN}/userinfo header {Authorization: Bearer {ACCESS_TOKEN}         |
â”‚                                                                                        â”‚
â”‚  SPA (F/E)                Resource Server (API) â—„â”€ - - - -   Auth Server (Okta)        â”‚
â”‚  - status=200, data={USER_INFO}                                                        â”‚
â”‚                                                                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

10  SPA (F/E)   â—„â¼ â¼ â¼       Resource Server (API)             Auth Server (Okta)
  - Generate a JWT on our API and send back to frontend to avoid exposing the Okta token
  - status=200, data={JWT_TOKEN}


 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
 â”‚                                                                              â”‚
 â”‚                        ğŸ† State = User Authenticated ğŸ†                      â”‚
 â”‚                                                                              â”‚
 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre></div></div>]]></content><author><name></name></author><category term="Authentication" /><category term="Single Sign On" /><category term="SSO" /><summary type="html"><![CDATA[The flow between Client, Resource Server and Auth server]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://words.howapped.com/images/Zbj922R.png" /><media:content medium="image" url="https://words.howapped.com/images/Zbj922R.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">DNS for Developers</title><link href="https://words.howapped.com/cornell%20explainers/networking%20for%20devs/2022/03/09/dns-for-developers.html" rel="alternate" type="text/html" title="DNS for Developers" /><published>2022-03-09T00:00:00+00:00</published><updated>2022-03-09T00:00:00+00:00</updated><id>https://words.howapped.com/cornell%20explainers/networking%20for%20devs/2022/03/09/dns-for-developers</id><content type="html" xml:base="https://words.howapped.com/cornell%20explainers/networking%20for%20devs/2022/03/09/dns-for-developers.html"><![CDATA[<style>
table {font-size:inherit; white-space:inherit}
table td, table th {width:100%}
</style>

<h1 id="networking-for-devs---dns-faq">Networking for Devs - DNS FAQ</h1>

<p><img src="/images/umsJdKF.png" alt="" title="The Domain Name System" /></p>

<p>As a senior developer, itâ€™s clear some other technical staff lack a working knowledge of the Domain Name System.</p>

<p>Hereâ€™s an explainer, using the <a href="https://en.wikipedia.org/wiki/Cornell_Notes">Cornell method</a> - my favourite way to work through a subject quickly.</p>

<h2 id="cornell-method-notes">Cornell Method notes</h2>

<table>
<tr>
<th> Q </th>
<th> A </th>
</tr>
<tr>
<td>
What is DNS and a DNS query?
</td>
<td>

Domain Name System is used to map human-friendly service names ('hosts') to the resource's numerical addresses (IP addresses)

A DNS query and how it is resolved is the process of translating the human-friendly computer host names into IP addresses. DNS 'resolution' and 'translation' are the same thing.

</td>
</tr>
<tr>
  <td>How does a DNS query get resolved?</td>
  <td>
  When a user enters https://blog.howapped.com, the browser initiates a DNS resolver which sequences the query that ultimately leads to a translation.
    
  The recursive resolver function looks in cache

1. If not in cache, it goes to the first of the authoritative nameservers. This is hardcoded in the OS. For example `8.8.8.8`
2. If translation not found, continue querying
3. Resolver -- queries --&gt; internal cache
4. Resolver -- queries --&gt; root nameserver
5. Resolver -- queries --&gt; `.com` nameserver

  </td>
</tr>

<tr>
  <td>What is the root nameserver?</td>
  <td>
  When a client begins to resolve a DNS query, the remote resolution process starts with a request to a root nameserver. It will respond with a referral to further authoritative servers.

A root nameserver is a type of authoritative nameserver.

Another type of authoritative nameserver is a **TLD nameserver**.

For example, the request to translate `www.wikipedia.org` will receive a response containing addresses of `.org` authoritative TLD server servers.
Ao

  </td>
</tr>

<tr>
  <td>How can performance be increased?</td>
  <td>
  The are DNS caching servers which store resolved mappings for a specified period. This reduces DNS traffic across the internet.
  How long cache entries are stored is according to the TTL value for the DNS record in question.
  </td>
</tr>

<tr>
  <td>What are the various DNS records for?</td>
  <td>
  Besives translating names to IP addresses, DNS can instruct mail agents which is the best mail server to deliver email.

An MX record provides a mapping between a domain a mail exchanges.

  </td>
</tr>
<!-- -->

<tr>
  <td>Question?</td>
  <td>
  Answer
  </td>
</tr>
</table>]]></content><author><name></name></author><category term="Cornell Explainers" /><category term="Networking for Devs" /><summary type="html"><![CDATA[Networking for Devs]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://words.howapped.com/images/umsJdKF.png" /><media:content medium="image" url="https://words.howapped.com/images/umsJdKF.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">This Year I Learned</title><link href="https://words.howapped.com/year-in-review/2021/12/30/learnings-from-the-year-2021.html" rel="alternate" type="text/html" title="This Year I Learned" /><published>2021-12-30T00:00:00+00:00</published><updated>2021-12-30T00:00:00+00:00</updated><id>https://words.howapped.com/year-in-review/2021/12/30/learnings-from-the-year-2021</id><content type="html" xml:base="https://words.howapped.com/year-in-review/2021/12/30/learnings-from-the-year-2021.html"><![CDATA[<p><img src="/images/AKwcpBi.jpg" alt="" title="2021: This Year I Learned" /></p>

<p>Hereâ€™s a roundup of my professional learnings from the year.</p>

<p>The sections for 2022 goals are limited in scope on account of recently giving birth to our second child :)</p>

<h2 id="professional">Professional</h2>

<h3 id="always-be-quitting">Always be Quitting</h3>

<p>Thanks to Julio Merino for the phrase and his excellent <a href="https://jmmv.dev/2021/04/always-be-quitting.html">article</a>.</p>

<p>The phrase describes how we should approach a software project, as participants, owners and stewards. We should be in a permanent state of being able to handover the project.</p>

<p>It does not mean, abdicating responsbility.</p>

<p>It means encouraging transparency by promoting documentation as you develop. So that at any one time, A project and user can be onboarded or the project can be demoed. As well as the software itself, this also includes documenting your long-term plans for the project.</p>

<p>It means, eliminating, what Google refer to as The Bus Factor. The act of sharing knowledge so no one individual is a silo or bottleneck. This is covered extensively in <a href="https://learning.oreilly.com/library/view/software-engineering-at/9781492082781/">Oâ€™Reillyâ€™s excellent book, Software Engineering at Google</a>.</p>

<p>It means, looking to move on from a project as a positive, rather than a negative move. This can mean sharing your knowledge by training others around you and to identify and train your replacement. When the time is right, this leaves you to focus your efforts on kickstarting new projects.</p>

<h4 id="resources">Resources</h4>

<ul>
  <li>Julio Merino - Always Be Quitting
    <ul>
      <li><a href="https://jmmv.dev/2021/04/always-be-quitting.html">https://jmmv.dev/2021/04/always-be-quitting.html</a></li>
    </ul>
  </li>
</ul>

<h3 id="using-a-design-document-to-explain-and-persuade">Using a design document to explain and persuade.</h3>

<p>This year Iâ€™ve found using a platform like Confluence to create a design document has helped to explain and persuade an approach or design strategy.</p>

<p>This is especially true when time pressures have meant face-to-face, synchronous communications have been harder to come by.</p>

<p>2021 has been a very active year in the hiring market. A shift to permanent work-from-home has contributed to <a href="https://hbr.org/2021/09/who-is-driving-the-great-resignation">The Great Resignation</a>.</p>

<p>On my own team, we saw quite a radical shift in headcount and time for meetings and proposals has often been cut short as resources are stretched. For a more asynchronous working approach, itâ€™s useful to make a write up with the problem statement and the various approaches available.</p>

<p>Let your audience understand the various Bronze, Silver and Gold approaches to solving a problem, with its tradeoffs and costs. Subsequently, a team can make a considered judgement in a way thatâ€™s been documented for posterity. Further discussion takes place in the page comments rather than taking place on a call, or buried in a ticket.</p>

<h4 id="resources-1">Resources</h4>

<ul>
  <li>Chapter 10 - Design Docs - Sofware Engineering at Google
    <ul>
      <li><a href="https://learning.oreilly.com/library/view/software-engineering-at/9781492082781/ch10.html#design_docs">https://learning.oreilly.com/library/view/software-engineering-at/9781492082781/ch10.html#design_docs</a></li>
    </ul>
  </li>
</ul>

<h3 id="development-using-static-code-analysis-for-quicker-feedback-loops">Development using Static Code Analysis for quicker feedback loops</h3>

<p>In 2021 I dabbled with Rust. Itâ€™s my first dive into high-level, compiled languages since my days of C++ and Java at the start of my career.</p>

<p>Itâ€™s worth saying, the tooling around Rust development is first-class and it showed how the compiler is able to present the developer with errors at an early stage so that you fail fast.</p>

<p>In a work project, we also used the Typescript template with Create-React-App.</p>

<p>Using both of these opened my eyes to how the compilation step and static code analysis can help the developer find bugs, antipatterns and other issues at the coding stage of the Software Development Lifecycle without running the program.</p>

<p>Subsequently, in my daily Python-land, this led me to use <code class="language-plaintext highlighter-rouge">mypy</code> and Pythonâ€™s â€˜opt-inâ€™ typing mechanism more thoroughly.</p>

<h4 id="resources-2">Resources</h4>

<ul>
  <li>
    <p>Rust Book</p>

    <ul>
      <li><a href="https://learning.oreilly.com/library/view/programming-rust-2nd/9781492052586/">https://learning.oreilly.com/library/view/programming-rust-2nd/9781492052586/</a></li>
    </ul>
  </li>
  <li>
    <p>Rustlings</p>

    <ul>
      <li><a href="https://github.com/rust-lang/rustlings">https://github.com/rust-lang/rustlings</a></li>
    </ul>
  </li>
  <li>
    <p>React Typescript cheatsheet</p>

    <ul>
      <li><a href="https://github.com/rust-lang/rustlings">https://react-typescript-cheatsheet.netlify.app/docs/basic/setup/</a></li>
    </ul>
  </li>
  <li>
    <p>Full-Stack React, Typescript and Node</p>
    <ul>
      <li><a href="https://learning.oreilly.com/library/view/full-stack-react-typescript/9781839219931/">https://learning.oreilly.com/library/view/full-stack-react-typescript/9781839219931/</a></li>
    </ul>
  </li>
</ul>

<h3 id="efficient-learning-using-a-variety-of-senses">Efficient learning using a variety of senses</h3>

<p>As mentioned above, I was curious about Rust.</p>

<p>From my learnings, it appears that Rust is a high level language that repeatedly appears as a winner in the <a href="https://insights.stackoverflow.com/survey/2021#most-loved-dreaded-and-wanted-language-love-dread">Stack Overflow Developer survey</a> as the most-loved language. I needed to see what the fuss was all about.</p>

<p>I was curious to see how a high-level systems language compares to Python in terms in memory footprint and performance in general.</p>

<p>Instead of just linearly reading the official Rust book and doing exercies, I used the excellent <a href="https://github.com/rust-lang/rustlings">Rustlings</a> repository which has the user authoring actual rust code samples, correcting the logic and syntax to pass a unit test, and then running the the test suite to ensure it passes.</p>

<p>By not only reading, but interactively coding with what Iâ€™d learnt from the rust book, I was putting knowledge acquired to the test. By using different learning methods, with different media, this helps the brain with retention.</p>

<h4 id="resources-3">Resources</h4>

<ul>
  <li>
    <p>Rust Book</p>

    <ul>
      <li><a href="https://learning.oreilly.com/library/view/programming-rust-2nd/9781492052586/">https://learning.oreilly.com/library/view/programming-rust-2nd/9781492052586/</a></li>
    </ul>
  </li>
  <li>
    <p>Rustlings</p>

    <ul>
      <li><a href="https://github.com/rust-lang/rustlings">https://github.com/rust-lang/rustlings</a></li>
    </ul>
  </li>
</ul>

<h3 id="post-pandemic-remote-teamwork-do-not-rely-on-jira-alone-for-communication">Post-Pandemic remote teamwork: Do not rely on Jira alone for communication</h3>

<p>In 2021 Iâ€™ve been involved in consulting for a single software team where weâ€™ve delivered on a couple of data-driven software projects.</p>

<p>I consider this team highly productive and efficient in meeting its bi-weekly sprint goals. One of its strengths has been how we communicate. That is, to use Jira for ticketing, as a documentation tool, rather than a communication tool.</p>

<p>Itâ€™s quite easy to fall into the trap of making Jira comments, tagging other team members and then relying on this for inter-team communication.</p>

<p>In a remote-first working world, where an asynchronous communication style takes priority, we cannot rely solely that intended recipients will have digested the Jira notifications. Communications should be reinforced with a quick ping on instant message or voice call.</p>

<p>The sheer barrage of notifications (Jira or other platform) will mean your crafted comment or code review note may get buried in the noise. Use a more immediate communication method if applicable.</p>

<h3 id="tools-and-libraries-fastapi-pydantic-react-context-api-mongo-aggregation-framework">Tools and Libraries: FastAPI, Pydantic, React Context API, Mongo Aggregation Framework</h3>

<p>In Python, 2021 Iâ€™ve gotten to grips with FastAPI and Pydantic which has greatly helped with rapid application development.</p>

<p>FastAPI is an async micro web framework that works beautifully with Pydantic and works with the OpenAPI protocol to produce beauiful API documentation out of the box. This is exactly what our team needed in order to move quickly.</p>

<!-- In frontend land, we've reafactored -->

<h3 id="2022-professional-goals">2022 Professional Goals</h3>

<ul>
  <li>Write a Rust crate</li>
  <li>Run <a href="http://www.mypy-lang.org/"><code class="language-plaintext highlighter-rouge">mypy</code></a> constantly during development to flag typing errors in Python code as they appear, rather than solely as a <a href="https://pre-commit.com/"><code class="language-plaintext highlighter-rouge">pre-commit</code></a> hook</li>
</ul>

<h2 id="personal">Personal</h2>

<h3 id="lesser-minds-the-importance-of-engaging-with-strangers">Lesser Minds, the importance of engaging with strangers</h3>

<p>In 2021 I read a very memorable book, <a href="https://www.goodreads.com/book/show/58377159-the-power-of-strangers?ac=1&amp;from_search=true&amp;qid=RGzexHIQnx&amp;rank=1">The Power Of Strangers</a></p>

<!--
### Standing desks work well for me

Lorem Ipsum ..

### Parenting: Your childhood experiences and behaviours carried over for you to repeat as a parent

Lorem Ipsum ..

### The role of listening in healthy relationships

Lorem Ipsum ..

### Be a strict gatekeeper for the media you consume.

Lorem Ipsum ..

### Parenting: Importance of apology

Lorem Ipsum ..

-->]]></content><author><name></name></author><category term="year-in-review" /><summary type="html"><![CDATA[2021 Edition]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://words.howapped.com/images/AKwcpBi.jpg" /><media:content medium="image" url="https://words.howapped.com/images/AKwcpBi.jpg" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Effective Engineering Management</title><link href="https://words.howapped.com/book%20notes/work%20life/non-fiction/2021/09/15/team-leading-dos-and-donts.html" rel="alternate" type="text/html" title="Effective Engineering Management" /><published>2021-09-15T00:00:00+00:00</published><updated>2021-09-15T00:00:00+00:00</updated><id>https://words.howapped.com/book%20notes/work%20life/non-fiction/2021/09/15/team-leading-dos-and-donts</id><content type="html" xml:base="https://words.howapped.com/book%20notes/work%20life/non-fiction/2021/09/15/team-leading-dos-and-donts.html"><![CDATA[<p>As we know Software Development is not just about technical problem solving, but the human factors involved when delivering a product at scale.</p>

<p>From an essay in <em>Software Engineering at Google</em>, Brian Fitzpatrick discusses engineering management patterns and anti-patterns. At itâ€™s core are the values of Trust, Humility and Respect.</p>

<p>Iâ€™ve analysed and summarised below.</p>

<p><strong>Donâ€™t</strong>: Hire Pushovers</p>

<p>This means hiring people that are smarter than you and could eventually replace you.</p>

<p>When leading a team or as indivividual contributor, our general strategy should be â€˜We may leave at any time, so have the project and processes in a state where they are documented and can be handed over.</p>

<p>At first, the statement above may sound negative. But this approach means you and everyone around you progress on to new projects and opportunities.</p>

<p><strong>Donâ€™t</strong>: Ignore Low performers</p>

<p>The team suffers if there is a team member who isnâ€™t doing their best and you donâ€™t address it.</p>

<p>Keeping a low achiever in your team keeps high performers from joining and encourages existing high performers to leave.</p>

<p>Instead, help the strugglers <strong>up</strong>, or out.</p>

<p><strong>Donâ€™t</strong>: Ignore Human Issues</p>

<p>Focusing all your energies on technical problem solving can mean youâ€™ve neglected colleaguesâ€™ personal poblems. This sows discontent, leading to a lack of team productivity.</p>

<p><strong>Donâ€™t</strong>: Be everyoneâ€™s friend</p>

<p>Becoming a manager or team lead of colleagues where previously you were peers may be uncomfortable at first.</p>

<p>Having a weekly team lunch can be an effective way to remain socially connected without making them uncomfortable.</p>

<p><strong>Donâ€™t</strong>: Compromise the hiring bar.</p>

<p>This can happen when you need to hire quickly, the legendary Blitzscale! Donâ€™t be tempted.</p>

<p>Donâ€™t sacrifice the hiring standard because, the cost of hiring the appropriate person pales compared to dealing with a bad hire.</p>

<p>In the words of Steve Jobs, <em>A people hire other A people. B people hire C people.</em></p>

<p><strong>Donâ€™t</strong>: Treat your team like children</p>

<p>Trust them to be great, and they will be great.</p>

<p>Give them opportunity to be responsible for their work.</p>

<p><strong>Do</strong>: Lose the Ego</p>

<p>This means trusting your team by respecting the abilities and prior accomplishments of team members.</p>

<p>Help to set goals and reach consensus but the details of <strong>how</strong> to reach them are best decided by the people putting the product together.</p>

<p>This gives the team a better sense of accountability, ownership and responsibility.</p>

<p>This also means accepting criticism openly and avoiding the urge to be territorial.</p>

<p><strong>Do</strong>: Be a zen master</p>

<p>Control your emotions and reactions, because a leader is always on stage and your team is always conciously and unconsciously looking to you for cues on how to react.</p>

<p>This can mean keeping your cynicsm to yourself.</p>

<p>Asking questions is a great way to instill humility, respect and trust because itâ€™s helps the other person problem solve on their own by trying to define and explore the problem.</p>

<p><strong>Do</strong>: Be a catalyst</p>

<p>Encourage democracy rather than a dictatorship by building consensus. This can either mean guiding the process from start to finish, or just giving it a gentle nudge in the right direction.</p>

<p><strong>Do</strong>: Remove roadblocks</p>

<p>Help the team overcome technical or organisational hurdles to get it moving again. Often this means contacting the appropriate team for getting access to particular infrastructure.</p>

<p><strong>Do</strong>: Be a mentor/teacher</p>

<p>Whether you like it or not, a team leader will end up guiding a more junior team member through; code, technology or architectural concept or team culture.</p>

<p>For this you need:</p>

<ol>
  <li>Experience with your teamâ€™s processes and systems.</li>
  <li>The ability to explain things to someone else.</li>
  <li>The ability to guage how much help your mentee needs.</li>
</ol>

<p>The last point is key because you donâ€™t want to be overexplaining since the mentee will just tune you out.</p>

<p><strong>Do</strong>: Set clear goals</p>

<p>You need to define a concise team mission statement to ensure your team is aligned about the direction in which itâ€™s heading.</p>

<p>Then â€¦</p>

<p>Step back and give it more autonomy and periodically checking in to make sure everyone is still on the right track.</p>

<p>This drastically improves the efficiency of your team because no energy is wasted where individuals can pull the product in slightly different directions.</p>

<p><strong>Do</strong>: Be Honest</p>

<p>Thereâ€™s the need for supreme honesty when giving direct feedback. Avoid the <a href="https://www.psychologytoday.com/us/blog/creative-leadership/201808/no-one-wants-eat-your-compliment-sandwich">compliment sandwich</a> since this can deflect attention from the issue that requires change or improvement.</p>

<p>When giving critism, delivery is key to making sure the message is heard. Avoid sugarcoating.</p>

<p>Kindness and empathy is critical.</p>

<p><strong>Do</strong>: Track Happiness</p>

<p>To stave off discontent, here are some ideas:</p>

<ul>
  <li>
    <p>At the end of a weekly one-on-one, ask â€œWhat do you needâ€</p>
  </li>
  <li>
    <p>Make sure people get recognition for their work by tracking the mundane tasks and distributing responsibilities evenly.</p>
  </li>
  <li>
    <p>To prevent burnout, track hours and exchange them for fun team activities.</p>
  </li>
</ul>

<h3 id="conclusion">Conclusion</h3>

<p>Ultimately, you need to be an enabler and plan how you are going to help your team members realise their career wishes and desires. This might be with opportunities to improve themselves or be recognised for the work they do.</p>

<hr />

<p>Please buy! I thoroughly recommend.</p>

<p>You may buy Software Engineering at Google here.</p>

<ul>
  <li><a href="https://uk.bookshop.org/books/software-engineering-at-google-lessons-learned-from-programming-over-time/9781492082798">Bookshop.org</a></li>
</ul>

<p><img src="/images/kMpCBtx.png" alt="" title="Software Engineering at Google" /></p>]]></content><author><name></name></author><category term="book notes" /><category term="work life" /><category term="non-fiction" /><summary type="html"><![CDATA[Leading a Team, Dos and Don'ts - A Google insight.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://words.howapped.com/images/syhowyL.png" /><media:content medium="image" url="https://words.howapped.com/images/syhowyL.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Book Notes - No Rules Rules</title><link href="https://words.howapped.com/book%20notes/work%20life/non-fiction/2021/02/07/book-notes-no-rules-rules-netflix.html" rel="alternate" type="text/html" title="Book Notes - No Rules Rules" /><published>2021-02-07T00:00:00+00:00</published><updated>2021-02-07T00:00:00+00:00</updated><id>https://words.howapped.com/book%20notes/work%20life/non-fiction/2021/02/07/book-notes-no-rules-rules-netflix</id><content type="html" xml:base="https://words.howapped.com/book%20notes/work%20life/non-fiction/2021/02/07/book-notes-no-rules-rules-netflix.html"><![CDATA[<p>As soon as I saw the title, I knew this is a book I had to read.</p>

<blockquote>
  <p>NO RULES RULES</p>

  <p>NETFLIX and the Culture of Reinvention</p>

  <p>REED HASTINGS</p>

  <p>ERIN MEYER</p>
</blockquote>

<p>There are 10 chapters which cover the creative workplace culture of Netflix - the highly succesful streaming and film production company.</p>

<p>After having worked in various levels of progressive workplace culture at small and large companies, this book really connected the dots for me.</p>

<p>Here are my notes transferred from my <a href="https://time.com/collection/best-inventions-2020/5911408/remarkable-2/">Remarkable tablet</a> (which Iâ€™ve fallen in love with)</p>

<h3 id="1-first-build-up-talent-density">1. First, build up talent density</h3>

<ul>
  <li>Your number one goal as leader is to develop a work environment consisting of stunning colleagues</li>
  <li>Stunning colleagues accomplish significant amounts of important work and are exceptionally creative and passionate</li>
  <li>Jerks, slackers and sweet people with non stellar performance or pessimists on the team will bring down the performance of everyone</li>
</ul>

<h3 id="2-say-what-you-really-think-with-positive-intent">2. Say what you really think (with positive intent)</h3>

<ul>
  <li>
    <p>With candour, high performers will become outstanding performers . Frequent candid feedback exponentially magnifies the speed and effectiveness of your work force</p>
  </li>
  <li>Set the stage for candour by building feedback moments into your regular meetings</li>
  <li>Coach your employees to give and receive feedback effectively following the 4A guidelines (live) (Give) )
    <ul>
      <li>Aim to Assist (Giving)</li>
      <li>Actionable (Giving)</li>
      <li>Appreciate (Receiving)</li>
      <li>Accept or Discard (Receiving)</li>
    </ul>
  </li>
  <li>As a leader solicit feedback regularly and respond with belonging cues when you receive</li>
  <li>Get rid of jerks as you instill a culture of candour</li>
</ul>

<h3 id="3a-remove-vacation-policy">3a. Remove Vacation Policy</h3>

<ul>
  <li>If you arenâ€™t tracking worked in a day, what is the point tracking days per year?</li>
  <li>Leaders must model big-vacation taking to set example and precedent to guide employee behaviour</li>
  <li>Explain there is no need to ask for prior approval and no one is expected to keep track of days away from the office</li>
  <li>Up to employee to take few hours, days, a week, a month off.</li>
  <li>Communicate to provide context</li>
</ul>

<h3 id="3b-remove-travel-and-expense-approvals">3b. Remove travel and expense approvals</h3>

<ul>
  <li>Remove, and encourage managers to set context about how to spend money up front, and check expenses at the back end. If people overspend, set more context</li>
  <li>No expense controls mean finance departments must audit annually</li>
  <li>Fire people that abuse the system but speak about the abuse opening so everyone knows repercussions</li>
  <li>Costs from overspending arenâ€™t nearly as high as the gains that freedom provides because employees are able to make quick decisions to spend money to help the business.</li>
  <li>When you tell people you trust them, they will show you how trustworthy they are</li>
</ul>

<h3 id="4-pay-top-of-personal-market">4. Pay top of personal market</h3>

<ul>
  <li>The methods used by most companies to compensate employees are not ideal for a creative high- talent density workforce</li>
  <li>Divide your workforce â€˜into creative and operational. and pay creative workers top of market. This might mean hiring one exceptional instead of 10 adequate people</li>
  <li>Donâ€™t pay performance-related bonuses and put into salary instead</li>
  <li>Teach employees to build their own networks and to invest time getting to know their own - and their teamsâ€™ - market value on an on- going bases Adjust salaries accordingly</li>
</ul>

<h3 id="5-open-the-books">5. Open the books</h3>

<ul>
  <li>A culture of transparency: No closed offices or assistants as guards</li>
  <li>Open up books to employees and show how to read Pth accounts. Share sensitive financials</li>
  <li>Desicions the might affect workforce well-being be opened up early. May cause anxiety but will create trust (which is more valuable)</li>
  <li>If the transparency is at loggerheads with an individualâ€™s privacy - of info is from a work circumstance, be candid but if not, say itâ€™s not your place to share</li>
  <li>If youâ€™ve shown yourself to be competent, be open about your own mistakes to increase trust, goodwill, innovation</li>
</ul>

<h3 id="6-no-decision-making-approvals-needed">6. No decision-making approvals needed</h3>

<ul>
  <li>In a fast, innovative company ownership of big - ticket decision should be dispersed across workforce at different levels, not according hierarchical status.</li>
  <li>Netflix mantra and the bookâ€™s main jacket quote: â€œDonâ€™t seek to please your bossâ€</li>
  <li>When employees join company, tell them they have a handful of metaphorical chips to make bets with. A workers performance is judged on collective outcome of these bets</li>
  <li>To help good bets encourage staff to farm for dissent socialize the idea and test out the big bets. Teach that if a bet fails it should be â€˜sunshinedâ€™ openly sharing learnings etc</li>
</ul>

<h3 id="7-the-keeper-test">7. The keeper Test</h3>

<ul>
  <li>Encourage managers to be tough on performance by asking which of my people, if they told me they were leaving for a similar role, would I fight to keep?â€™</li>
  <li>Avoid stack-ranking as they create internal competition. and discourage collaboration</li>
  <li>â€˜Familyâ€™ metaphor for workforce isnâ€™t as good as â€˜Professional Sports Teamâ€™ Teach to instill feelings of . commitment, cohesion , camaraderie</li>
  <li>When you realize you need to let someone go, a personal improvement plan is humiliating and costly. Instead use money for a generous severance</li>
  <li>Employees may have fear that their job is on the line, so employees should ask their manager to ask â€˜If I was thinking of leaving, how hard would you work to change my mindâ€™</li>
  <li>When an employee is let go, Speak openly and answer questions candidly. This will diminish their fear of being next and increase trust</li>
</ul>

<h3 id="8-max-up-candour-a-circle-of-trust">8. Max up candour: A circle of trust</h3>

<ul>
  <li>A thorough live 360/ feedback session every 6- 12 months ensures clear feedback</li>
  <li>Performance reviews arenâ€™t the best mechanism as can be one -sided and limited to just one person (employee boys</li>
  <li>A 360 written report is good for annual feedback but donâ€™t link to promotions</li>
  <li>Use 4A feeback guidelines for live 360 dinners and start, stop, continue method with roughly 25% positive, 75% development with an actionable (no fluff)</li>
</ul>

<h3 id="9-lead-with-context-not-control">9. Lead with context, not control</h3>

<ul>
  <li>The overall goal should be innovation (not error prevention) and operate in a loosely coupled System</li>
  <li>To lead with context, you need a high talent density. After this get in lockstep alignment by providing and debating context to enable sound decision - making</li>
  <li>If a poor decision has been made, donâ€™t blame. Ask what context you failed to communicate.</li>
  <li>Is everyone highly aligned on vision and objectives ?</li>
  <li>A loosely coupled organisation should resemble a tree rather than a pyramid. The boss is at the roots, holding up the trunk of senior managers who support the outer branches where decisions are made.</li>
  <li>These policies, Reed argues do not work for Netflix/a creative engineering culture.
    <ul>
      <li>Vacation Policies</li>
      <li>Decision- Making approvals</li>
      <li>Expense Policies</li>
      <li>Performance Improvement Glans</li>
      <li>Approval Processes</li>
      <li>Raise Pools</li>
      <li>Key Performance Indicators</li>
      <li>Management by Objective</li>
      <li>Travel Policies</li>
      <li>Decision - Making by Committee</li>
      <li>Contract Sign offs</li>
      <li>ay- Grades</li>
      <li>Pay- per performance Bonuses</li>
    </ul>
  </li>
</ul>

<h3 id="10-going-global">10. Going Global</h3>

<ul>
  <li>Map out corporate culture and compare to the culture you are expanding into</li>
  <li>In less direct countries, implement more formal feedback mechanisms.</li>
  <li>Encourage adaptability. Discuss openly what candour means in different parts of world. Work together to adapt</li>
</ul>]]></content><author><name></name></author><category term="book notes" /><category term="work life" /><category term="non-fiction" /><summary type="html"><![CDATA[Notes on 'No Rules Rules, Netflix and the Culture of Reinvention' by Reed Hastings and Erin Meyer.Gripping storytelling on how to create and maintain a dynamic, flexible and creative engineering culture.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://words.howapped.com/images/3xLS5Rr.png" /><media:content medium="image" url="https://words.howapped.com/images/3xLS5Rr.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">AWS Certified Solutions Architect - Exam Differences</title><link href="https://words.howapped.com/aws/2020/07/28/AWS-architect-exam-differences.html" rel="alternate" type="text/html" title="AWS Certified Solutions Architect - Exam Differences" /><published>2020-07-28T00:00:00+00:00</published><updated>2020-07-28T00:00:00+00:00</updated><id>https://words.howapped.com/aws/2020/07/28/AWS-architect-exam-differences</id><content type="html" xml:base="https://words.howapped.com/aws/2020/07/28/AWS-architect-exam-differences.html"><![CDATA[<p>AWS have released an update on their most popular and wide-ranging certification course.</p>

<p>The software architect exam at associate level SAA-C01 has been retired and SAA-C02 takes its place.</p>

<blockquote>
  <p>October 2020 Update: <a href="https://www.credly.com/badges/de891843-ae2c-44eb-89e2-9aa88367dd07?source=linked_in_profile">I passed!</a></p>
</blockquote>

<p>Commenters with experience of the two will maintain that as long as you keep to the fundamentals of the <a href="https://aws.amazon.com/architecture/well-architected/?wa-lens-whitepapers.sort-by=item.additionalFields.sortDate&amp;wa-lens-whitepapers.sort-order=desc">5 pillars of the well-architected framework</a>, the two exams have mostly the same content.</p>

<p>It pays to be aware of the new products AWS offer. We know that being able to leverage natively provided technologies from a cloud provider will often present efficiency gains in the <a href="https://en.wikipedia.org/wiki/Systems_development_life_cycle">Software Development Lifecycle</a>.</p>

<p>In the SAA-C02 exam, the new technologies we should be aware of:</p>

<table>
  <thead>
    <tr>
      <th>Name</th>
      <th><!-- What Is it--></th>
      <th><!--Good to know for--></th>
      <th>Â </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>AWS Global Accelerator</td>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Elastic Fabric Adapter</td>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Elastic Network Adapter</td>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
    </tr>
    <tr>
      <td>AWS Parallel Cluster</td>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Amazon FSx</td>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
    </tr>
    <tr>
      <td>AWS DataSync</td>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
    </tr>
    <tr>
      <td>AWS Directory Service</td>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
    </tr>
    <tr>
      <td>High Performance Computing</td>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
    </tr>
    <tr>
      <td>Aurora Serverless</td>
      <td>Â </td>
      <td>Â </td>
      <td>Â </td>
    </tr>
  </tbody>
</table>]]></content><author><name></name></author><category term="aws" /><summary type="html"><![CDATA[2018 vs. 2020]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://words.howapped.com/images/UrmOp2V.png" /><media:content medium="image" url="https://words.howapped.com/images/UrmOp2V.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Computers are fast - A cheatsheet</title><link href="https://words.howapped.com/cheatsheet/python%20performance/2020/07/23/computers-are-fast-cheatsheet.html" rel="alternate" type="text/html" title="Computers are fast - A cheatsheet" /><published>2020-07-23T00:00:00+00:00</published><updated>2020-07-23T00:00:00+00:00</updated><id>https://words.howapped.com/cheatsheet/python%20performance/2020/07/23/computers-are-fast-cheatsheet</id><content type="html" xml:base="https://words.howapped.com/cheatsheet/python%20performance/2020/07/23/computers-are-fast-cheatsheet.html"><![CDATA[<style>
table {
    width:100%;
}
</style>

<p>This is inspired by Julia Evans and Kamal Marhubiâ€™s excellent mini-quiz on the data rates of systems and components.</p>

<p>The below cheatsheet serves as a summary of those benchmark speeds, for at-a-glance consumption.</p>

<h2 id="orders-of-magnitude">Orders of magnitude</h2>

<p>The idea is not necessarily know the exact figures for a particular benchmark, just the right order of magnitude.</p>

<p>ğŸŒ 10<sup>0</sup> 1</p>

<p>ğŸ¦¥ 10<sup>1</sup> 10</p>

<p>ğŸš¶ 10<sup>2</sup> 100</p>

<p>ğŸƒâ€â™€ï¸ 10<sup>3</sup> 1,000</p>

<p>ğŸ‡â€ 10<sup>4</sup> 10,000</p>

<p>â€ğŸï¸ğŸ’¨ 10<sup>5</sup> 100,000</p>

<p>ğŸš 10<sup>6</sup> 1,000,000</p>

<p>âœˆï¸ 10<sup>7</sup> 10,000,000</p>

<p>ğŸš€ 10<sup>8</sup> 100,000,000</p>

<p>ğŸŒ  10<sup>9</sup> 1,000,000,000</p>

<h2 id="how-much-can-be-done-in-a-second">â€˜How much can be done in a secondâ€™</h2>

<h3 id="sumc"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/sum.c"><code class="language-plaintext highlighter-rouge">sum.c</code></a></h3>
<ul>
  <li>Each loop adds to total</li>
  <li>How many loop iterations per second?
    <ul>
      <li>ğŸš€ - ğŸŒ </li>
      <li>Between 100 million and 1 Billion</li>
      <li>10<sup>8</sup> &gt; and &lt; 10<sup>9</sup></li>
    </ul>
  </li>
</ul>

<h3 id="looppy"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/loop.py"><code class="language-plaintext highlighter-rouge">loop.py</code></a></h3>
<ul>
  <li>Empty loop contents</li>
  <li>How many loop iterations per second?
    <ul>
      <li>âœˆï¸ - ğŸš€</li>
      <li>Between 10m and 100m</li>
      <li>10<sup>7</sup> &gt; and &lt; 10<sup>8</sup></li>
    </ul>
  </li>
</ul>

<h3 id="dictpy"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/dict.py"><code class="language-plaintext highlighter-rouge">dict.py</code></a></h3>
<ul>
  <li>Add elements to a fixed-size dictionary</li>
  <li>How many loop iterations per second?
    <ul>
      <li>âœˆï¸ - ğŸš€</li>
      <li>Between 10m and 100m</li>
      <li>10<sup>4</sup> &gt; and &lt; 10<sup>5</sup></li>
    </ul>
  </li>
</ul>

<h3 id="parse_http_requestpy"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/parse_http_request.py"><code class="language-plaintext highlighter-rouge">parse_http_request.py</code></a></h3>
<ul>
  <li>Using Python built-in HTTP request parser</li>
  <li>How many HTTP requests parsed per second?
    <ul>
      <li>ğŸ‡â€ï¸ - â€ğŸï¸ğŸ’¨â€</li>
      <li>Between 10,000 and 100,000</li>
      <li>10<sup>4</sup> &gt; and &lt; 10<sup>5</sup></li>
    </ul>
  </li>
</ul>

<h3 id="download_webpagepy"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/download_webpage.py"><code class="language-plaintext highlighter-rouge">download_webpage.py</code></a></h3>
<ul>
  <li>Downloading with urllib2</li>
  <li>How many HTTP requests completed per second?
    <ul>
      <li>ğŸŒâ€ï¸ - â€ğŸ¦¥</li>
      <li>Between 1 and 10</li>
      <li>
        <blockquote>
          <p>The true cost depends on size, connection speed and distance from servers</p>
        </blockquote>
      </li>
    </ul>
  </li>
</ul>

<h3 id="run_pythonsh"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/run_python.sh"><code class="language-plaintext highlighter-rouge">run_python.sh</code></a></h3>
<ul>
  <li>Running Python script(s) from bash</li>
  <li>Bash loop iterations per second
    <ul>
      <li>ğŸ¦¥ - â€ğŸš¶â€</li>
      <li>Between 10 and 100</li>
      <li>10<sup>1</sup> &gt; and &lt; 10<sup>2</sup></li>
    </ul>
  </li>
</ul>

<h3 id="write_to_diskpy"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/write_to_disk.py"><code class="language-plaintext highlighter-rouge">write_to_disk.py</code></a></h3>
<ul>
  <li>Code run on a machine with an SSD</li>
  <li>How many bytes written to disk in a second
    <ul>
      <li>ğŸš€ - ğŸŒ </li>
      <li>Between 100 million and 1 Billion</li>
    </ul>
  </li>
  <li>How many megabytes written to disk in a second
    <ul>
      <li>ğŸš¶ - ğŸƒâ€â™€ï¸</li>
      <li>Between 100 and 1,000</li>
      <li>My T480s running Ubuntu with SSD reports write speed: 2.3 GB/s and read 673 MB/s <sup id="fnref:1"><a href="#fn:1" class="footnote" rel="footnote" role="doc-noteref">1</a></sup></li>
    </ul>
  </li>
</ul>

<h3 id="write_to_memorypy"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/write_to_memory.py"><code class="language-plaintext highlighter-rouge">write_to_memory.py</code></a></h3>
<ul>
  <li>How many bytes written to a string in memory in a second
    <ul>
      <li>ğŸŒ +</li>
      <li>Above 1 Billion</li>
    </ul>
  </li>
</ul>

<h3 id="grep_bytessh"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/grep_bytes.sh"><code class="language-plaintext highlighter-rouge">grep_bytes.sh</code></a></h3>
<ul>
  <li>Bytes search in a second
    <ul>
      <li>ğŸŒ +</li>
      <li>Above 1 Billion</li>
    </ul>
  </li>
</ul>

<h3 id="find-filenamessh"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/find-filenames.sh"><code class="language-plaintext highlighter-rouge">find-filenames.sh</code></a></h3>
<ul>
  <li>Files come from the filesystem cache</li>
  <li>How many files listed in one second?
    <ul>
      <li>ğŸğŸ’¨ - â€ğŸš</li>
      <li>Between 100,000 and 1m</li>
      <li>10<sup>5</sup> &gt; and &lt; 10<sup>6</sup></li>
      <li>
        <blockquote>
          <p>Grep can search at 2GB/s so more limited by disk speed than grepâ€™s speed</p>
        </blockquote>
      </li>
    </ul>
  </li>
</ul>

<h3 id="json_parsepy"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/json-parse.py"><code class="language-plaintext highlighter-rouge">json_parse.py</code></a></h3>
<ul>
  <li>Deserializing the same 65k of JSON repeatedly</li>
  <li>How many loop iterations in a second?
    <ul>
      <li>ğŸš¶ - â€ğŸƒâ€â™€ï¸</li>
      <li>Between 100 and 1,000</li>
      <li>10<sup>2</sup> &gt; and &lt; 10<sup>3</sup></li>
    </ul>
  </li>
</ul>

<h3 id="msgpack_parsepy"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/msgpack_parse.py"><code class="language-plaintext highlighter-rouge">msgpack_parse.py</code></a></h3>
<ul>
  <li>Parse 46k of msgpack data</li>
  <li>How many loop iterations in a second?
    <ul>
      <li>ğŸƒâ€â™€ï¸ - â€ğŸ‡â€</li>
      <li>Between 1,000 and 10,000</li>
      <li>10<sup>3</sup> &gt; and &lt; 10<sup>4</sup></li>
      <li>
        <blockquote>
          <p>Your choice of format and deserialisation library (eg capnproto) makes a big difference</p>
        </blockquote>
      </li>
    </ul>
  </li>
</ul>

<h3 id="database_indexedpy"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/database_indexed.py"><code class="language-plaintext highlighter-rouge">database_indexed.py</code></a></h3>
<ul>
  <li>Select one row from an indexed sqlite table containing 10m rows</li>
  <li>How many queries in one second
    <ul>
      <li>â€ğŸ‡â€ - ğŸï¸ğŸ’¨</li>
      <li>Between 10,000 and 100,000</li>
      <li>10<sup>4</sup> &gt; and &lt; 10<sup>5</sup></li>
      <li>Typical query in 20 microseconds</li>
    </ul>
  </li>
</ul>

<h3 id="database_unindexedpy"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/database_unindexed.py"><code class="language-plaintext highlighter-rouge">database_unindexed.py</code></a></h3>
<ul>
  <li>Select one row from an unindexed sqlite table containing 10m rows</li>
  <li>How many queries in one second
    <ul>
      <li>ğŸŒâ€ï¸ - â€ğŸ¦¥</li>
      <li>Between 1 and 10</li>
      <li>10<sup>0</sup> &gt; and &lt; 10<sup>1</sup></li>
    </ul>
  </li>
</ul>

<h3 id="hashpy"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/hash.py"><code class="language-plaintext highlighter-rouge">hash.py</code></a></h3>
<ul>
  <li>How many bytes hashed in one second?
    <ul>
      <li>ğŸš€ - ğŸŒ </li>
      <li>Between 100 million and 1 Billion</li>
      <li>10<sup>8</sup> &gt; and &lt; 10<sup>9</sup></li>
      <li>
        <blockquote>
          <p>MD5 is designed to be fast</p>
        </blockquote>
      </li>
    </ul>
  </li>
</ul>

<h3 id="bcrypt_hashpy"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/bcrypt_hash.py"><code class="language-plaintext highlighter-rouge">bcrypt_hash.py</code></a></h3>
<ul>
  <li>Number of passwords hashed in a second?
    <ul>
      <li>ğŸŒâ€ï¸ - â€ğŸ¦¥</li>
      <li>Between 1 and 10</li>
      <li>10<sup>0</sup> &gt; and &lt; 10<sup>1</sup></li>
    </ul>
  </li>
</ul>

<h3 id="fill_arrayc"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/fill_array.c"><code class="language-plaintext highlighter-rouge">fill_array.c</code></a></h3>
<ul>
  <li>Memory is accessed sequentially from a CPU cache</li>
  <li>Number of passwords hashed in a second?
    <ul>
      <li>ğŸš€ - ğŸŒ </li>
      <li>Between 100 million and 1 Billion</li>
      <li>10<sup>8</sup> &gt; and &lt; 10<sup>9</sup></li>
    </ul>
  </li>
</ul>

<h3 id="fill_arrayc-1"><a href="https://github.com/jonwhittlestone/one-second/blob/master/benchmarks/fill_array.c"><code class="language-plaintext highlighter-rouge">fill_array.c</code></a></h3>
<ul>
  <li>Number of passwords hashed in a second?
    <ul>
      <li>âœˆï¸ - ğŸš€</li>
      <li>Between 10m and 100m</li>
      <li>10<sup>4</sup> &gt; and &lt; 10<sup>5</sup></li>
    </ul>
  </li>
</ul>

<h2 id="resources-used-with-thanks-">Resources used: with thanks ğŸ’š</h2>

<ul>
  <li>Do you know how much your computer can do in a second? - <a href="http://computers-are-fast.github.io/">Mini Quiz</a></li>
</ul>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1">
      <p><a href="https://www.binarytides.com/linux-test-drive-speed/">https://www.binarytides.com/linux-test-drive-speed/</a>Â <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>]]></content><author><name></name></author><category term="cheatsheet" /><category term="python performance" /><summary type="html"><![CDATA[Data rates of various systems]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://words.howapped.com/images/pkQnonr.png" /><media:content medium="image" url="https://words.howapped.com/images/pkQnonr.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Book Notes - Managing Humans</title><link href="https://words.howapped.com/book%20notes/work%20life/non-fiction/2020/07/19/book-notes-managing-humans.html" rel="alternate" type="text/html" title="Book Notes - Managing Humans" /><published>2020-07-19T00:00:00+00:00</published><updated>2020-07-19T00:00:00+00:00</updated><id>https://words.howapped.com/book%20notes/work%20life/non-fiction/2020/07/19/book-notes-managing-humans</id><content type="html" xml:base="https://words.howapped.com/book%20notes/work%20life/non-fiction/2020/07/19/book-notes-managing-humans.html"><![CDATA[<p>I (Jon) have recently finished this book about management and leadership. It does a great job in explaining empathy, archetypes and â€˜general craziness of dysfunctional bright peopleâ€™ with plenty of pertinent and amusing anecodotes.</p>

<p>Itâ€™s written for aspiring and current managers and at 3rd edition, Michael writes as though he knows his audience well. He has clearly trodden the boards, delivered software projects, and led teams at Borland and Apple.</p>

<h2 id="my-rating-45">My rating: 4/5</h2>
<h2 id="chapter-notes">Chapter Notes</h2>

<h3 id="ch4---rands-test">CH4 - Rands Test</h3>

<p>Where the <a href="https://www.joelonsoftware.com/2000/08/09/the-joel-test-12-steps-to-better-code/">â€˜Joel testâ€™</a> can be an effective way to get a health check on a software team, the Rands test does the same for general team fitness in the context of management.</p>

<p>A score of 10 or lower - â€˜youâ€™ve got serious problemsâ€™</p>

<ul>
  <li>Do you have consistent one-on-ones, about topics other than status? (+1)</li>
  <li>Do you have consistent team meetings? (+1)</li>
  <li>Are handwritten status reports delivered weekly via email? (-1)</li>
  <li>Are you comfortable saying â€˜noâ€™ to your boss? (+1)</li>
  <li>Can you explain the strategy of your company to a stranger? (+1)</li>
  <li>Can you explain current health of the business? (+1)</li>
  <li>Is there a regular stand-up by the person in charge? Do you buy it? (+1)</li>
  <li>Do you know what you want to do next? (+1) Does your boss? (+1)</li>
  <li>Do you have time to be strategic? (+1)</li>
  <li>Are you actively killing the grapevine? ie. Do you make a point to kill gossip? (+1)</li>
</ul>

<h3 id="ch39---incrementalist-vs-realists">CH39 - Incrementalist vs. Realists</h3>

<blockquote>
  <p>Incrementalists and Realists donâ€™t disagree about whether or not we should do something about the problem. We are disagreeing about how much we should do. â€¦ There are two distinct personalities when it comes to devising solutions.</p>
</blockquote>

<blockquote>
  <p>Incrementalists are realists and they have a pretty good idea of what is achievable given a problem to solve, a product to ship. â€¦ They tend to know all the secrets.</p>
</blockquote>

<blockquote>
  <p>Completionists are dreamers. Their mantra is â€œIf youâ€™re going to spend the time given to solve a problem, solve it in a manner so you arenâ€™t going to be solving it again in 3 monthsâ€</p>
</blockquote>

<blockquote>
  <p>Incrementalists need vision and are driven by the goal of progress and constantly moving forward.</p>
</blockquote>

<blockquote>
  <p>Completionists can often see the immediate solution, and the two-year solution and the five-year solution.</p>
</blockquote>

<h3 id="ch40---organics-and-mechanics">CH40 - Organics and Mechanics</h3>

<p>The chapter covers how to speak to your manager and to identify if they are one of two personalities and the interpersonal conflict that may arise between the two. Lopp comments that the ensuing â€˜organisational warfareâ€™ is a waste of time (and money) as it focuses everyone on the peculiar personality quirks of the other rather than on the business.</p>

<blockquote>
  <p>Mechanics move forward methodically. They carefully gather information in a structured manner. They quietly observe and are comfortable predictable. They annoy the hell out of the organics</p>
</blockquote>

<blockquote>
  <p>Organics are all over the place. They tend to be loud and can tell a joke. They ask seemingly meaningless questions.</p>
</blockquote>

<blockquote>
  <p>Mechanic: â€œThis guy is walking chaosâ€<br />Organic: â€œThis guy is totally uptightâ€</p>
</blockquote>

<h3 id="ch52---chaotic-beautiful-snowflakes">CH52 - Chaotic, Beautiful snowflakes</h3>

<blockquote>
  <p>Engineers have a well-deserved reputation for regularly being off by a factor of three in their work estimates, partly due to the fact that we are really shitty at estimating the no-linear chaotic work that exists in keeping a group of humans pointed in the right direction.</p>
</blockquote>

<p>Michaelâ€™s parting thought</p>

<blockquote>
  <p>The hard work of great leadership isnâ€™t just managing the expected tasks that we can predict - itâ€™s the art of successfully traversing the unexpected.</p>
</blockquote>]]></content><author><name></name></author><category term="book notes" /><category term="work life" /><category term="non-fiction" /><summary type="html"><![CDATA[Notes on 'Managing Humans' by Michael Lopp.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://words.howapped.com/images/924BgKj.png" /><media:content medium="image" url="https://words.howapped.com/images/924BgKj.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry><entry><title type="html">Scheduled Severless Startup</title><link href="https://words.howapped.com/aws%20lambda/automation/python/2020/07/15/scheduled-serverless-startup.html" rel="alternate" type="text/html" title="Scheduled Severless Startup" /><published>2020-07-15T00:00:00+00:00</published><updated>2020-07-15T00:00:00+00:00</updated><id>https://words.howapped.com/aws%20lambda/automation/python/2020/07/15/scheduled-serverless-startup</id><content type="html" xml:base="https://words.howapped.com/aws%20lambda/automation/python/2020/07/15/scheduled-serverless-startup.html"><![CDATA[<!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2020-07-15-scheduled-serverless-startup.ipynb
-->

<div class="container" id="notebook-container">
        
    
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="The-Problem">The Problem<a class="anchor-link" href="#The-Problem"> </a></h1><p>As part of the early Covid-19 response, Digital Ocean donated some free credit to us to host an app for a local food delivery scheme.</p>
<p>To make that credit go as far as possible and to minimise power consumption, we'd like to power up and down the servers according to a schedule.</p>
<h1 id="The-Solution">The Solution<a class="anchor-link" href="#The-Solution"> </a></h1><p>Here's how to do that with AWS Lambda, with cloudfront events. We iterate on that to use the Serverless Framework.</p>
<p><strong>TLDR; Have a look at the <a href="https://github.com/jonwhittlestone/scheduled-serverless-startup">companion repo.</a>. It contains an example dockerized web app and the shell scripts for starting containers and creating the service.</strong></p>
<p>This article covers how to automate with a Digital Ocean droplet so to follow along with the code, you can create one using the example from <a href="http://words.howapped.com/systemd/automation/2020/06/01/automatically-restart-docker-after-reboot-with-service.html#cURL-to-create-the-droplet">a previous article</a>.</p>
<p>We will examine the cURL statements, convert those into Python. We can use AWS Lambda to execute the Python in a serverless environment. Then, the AWS lambda functions can be triggered by Cloudwatch events to a schedule so machines can be brought online only during operating hours.</p>
<p>We can notify any interested parties using Microsoft Teams - a topic for a subsequent post.</p>
<h2 id="Prerequisites">Prerequisites<a class="anchor-link" href="#Prerequisites"> </a></h2><p>You can always check the <a href="https://github.com/jonwhittlestone/scheduled-serverless-startup">companion repo.</a></p>
<p>You will need to:</p>
<ul>
<li>.. have <code>jq</code> installed to format JSON responses<ul>
<li><a href="https://stedolan.github.io/jq/download/">Download JQ</a> for your OS</li>
</ul>
</li>
</ul>
<ul>
<li>.. have a server on which a dockerized web app will start automatically when the server is restarted<ul>
<li>See previous article on how to <a href="http://words.howapped.com/systemd/automation/2020/06/01/automatically-restart-docker-after-reboot-with-service.html#cURL-to-create-the-droplet">create one with DigitalOcean</a>.</li>
</ul>
</li>
</ul>
<ul>
<li>.. have <a href="https://boto3.amazonaws.com/v1/documentation/api/latest/guide/quickstart.html#installation">installed Boto3 with your AWS account credentials</a> so we can work with the AWS Python SDK.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="cURL-statements-to-boot-down-and-up">cURL statements to boot down and up<a class="anchor-link" href="#cURL-statements-to-boot-down-and-up"> </a></h2><p>As covered in a <a href="http://words.howapped.com/systemd/automation/2020/06/01/automatically-restart-docker-after-reboot-with-service.html">previous post</a>, our web app will restart when rebooted using a systemd service.</p>
<p>Rather than ssh or the cloud provider's control panel, the server can be started and stopped using cURL.</p>
<p>In the case of DigitalOcean:</p>
<p>Find out the ID of the server:</p>

<pre><code>$ curl \
        -H 'Content-Type: application/json' \
        -H 'Authorization: Bearer '$DIGITAL_OCEAN_ACCESS_TOKEN'' \
    "https://api.digitalocean.com/v2/droplets?name=scheduled-serverless" | jq '.droplets[] | {id:.id, name:.name, status: .status}'</code></pre>
<p>The output gives us the ID</p>

<pre><code>{
    ...
},
{
  "id": 195786885,
  "name": "scheduled-serverless",
  "status": "active"
}</code></pre>
<p>And then power it down:</p>

<pre><code>$ curl -X POST \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer '$DIGITAL_OCEAN_ACCESS_TOKEN'' \
    -d '{"type":"power_off"}' \
    "https://api.digitalocean.com/v2/droplets/195786885/actions" | jq '.[] | {id:.id, status:.status, type:.type}'</code></pre>
<p>Which tells us it's in progress</p>

<pre><code>{
  "id": 955320153,
  "status": "in-progress",
  "type": "power_off"
}</code></pre>
<p>The equivalent cURL for powering on the server is virtual identical</p>

<pre><code>$ curl -X POST \
    -H 'Content-Type: application/json' \
    -H 'Authorization: Bearer '$DIGITAL_OCEAN_ACCESS_TOKEN'' \
    -d '{"type":"power_on"}' \
    "https://api.digitalocean.com/v2/droplets/195786885/actions" | jq '.[] | {id:.id, status:.status, type:.type}'</code></pre>
<p>The web app from the example is running on port 80. We know the server's IP address by referring to the control panel. Let's confirm that the service is running by verifying the output in a browser.</p>
<p><img src="https://raw.githubusercontent.com/jonwhittlestone/words/master/images/do_ip.png" alt="" /></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Requests-scripts-in-AWS-Lambda">Requests scripts in AWS Lambda<a class="anchor-link" href="#Requests-scripts-in-AWS-Lambda"> </a></h2><h3 id="The-cURL-statements-in-Python">The cURL statements in Python<a class="anchor-link" href="#The-cURL-statements-in-Python"> </a></h3><p>First, get the ID of the droplet.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">sys</span>
<span class="kn">import</span> <span class="nn">requests</span>

<span class="n">TOKEN</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">getenv</span><span class="p">(</span><span class="s1">&#39;DIGITAL_OCEAN_ACCESS_TOKEN&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
<span class="n">DROPLET_NAME</span> <span class="o">=</span> <span class="s1">&#39;scheduled-serverless&#39;</span>

<span class="n">headers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;Content-Type&#39;</span><span class="p">:</span> <span class="s1">&#39;application/json&#39;</span><span class="p">,</span>
    <span class="s1">&#39;Authorization&#39;</span><span class="p">:</span> <span class="sa">f</span><span class="s1">&#39;Bearer </span><span class="si">{</span><span class="n">TOKEN</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">,</span>
<span class="p">}</span>

<span class="k">if</span> <span class="n">TOKEN</span> <span class="o">==</span> <span class="s1">&#39;&#39;</span><span class="p">:</span>
    <span class="n">sys</span><span class="o">.</span><span class="n">exit</span><span class="p">(</span><span class="s1">&#39;Your environment should have the `DIGITAL_OCEAN_ACCESS_TOKEN exported.&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">get_droplet</span><span class="p">():</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;https://api.digitalocean.com/v2/droplets&#39;</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="p">{})</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">d</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;droplets&#39;</span><span class="p">,{})</span> <span class="k">if</span> <span class="n">d</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;name&#39;</span><span class="p">,</span><span class="s1">&#39;&#39;</span><span class="p">)</span> <span class="o">==</span> <span class="n">DROPLET_NAME</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

<span class="n">DROPLET</span> <span class="o">=</span> <span class="n">get_droplet</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Droplet ID: </span><span class="si">{</span><span class="n">DROPLET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>Droplet ID: 195786885
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now we have the ID, let's define the functions for bringing the servers down and back up.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">power_off</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;{&quot;type&quot;:&quot;power_off&quot;}&#39;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;https://api.digitalocean.com/v2/droplets/</span><span class="si">{</span><span class="n">DROPLET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">/actions&#39;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">power_on</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">dict</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="s1">&#39;{&quot;type&quot;:&quot;power_on&quot;}&#39;</span>
    <span class="n">url</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;https://api.digitalocean.com/v2/droplets/</span><span class="si">{</span><span class="n">DROPLET</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;id&quot;</span><span class="p">)</span><span class="si">}</span><span class="s1">/actions&#39;</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">post</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">headers</span><span class="o">=</span><span class="n">headers</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">response</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>

<span class="n">action_resp</span> <span class="o">=</span> <span class="n">power_off</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">action_resp</span><span class="p">[</span><span class="s1">&#39;action&#39;</span><span class="p">][</span><span class="s1">&#39;type&#39;</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">action_resp</span><span class="p">[</span><span class="s1">&#39;action&#39;</span><span class="p">][</span><span class="s1">&#39;status&#39;</span><span class="p">])</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;----&#39;</span><span class="p">)</span>

<span class="c1"># action_resp = power_on()</span>
<span class="c1"># print(action_resp[&#39;action&#39;][&#39;type&#39;])</span>
<span class="c1"># print(action_resp[&#39;action&#39;][&#39;status&#39;])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>power_off
in-progress
----
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Running-the-scripts-in-AWS-Lambda">Running the scripts in AWS Lambda<a class="anchor-link" href="#Running-the-scripts-in-AWS-Lambda"> </a></h3><p>Let's translate the cURL statements into Python.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># Popping on a new on/off timestamp on a firebase stored stack</span>

<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">arrow</span>


<span class="n">start</span><span class="p">:</span> <span class="nb">dict</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;off&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;2020-08-11 09:04&#39;</span><span class="p">],</span> <span class="s1">&#39;on&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;2020-08-11 09:03&#39;</span><span class="p">]}</span>

<span class="c1"># get data</span>
<span class="n">url</span> <span class="o">=</span> <span class="s1">&#39;https://wordsdothowappeddotcom.firebaseio.com/scheduled-serverless-startup.json?print=pretty&#39;</span>
<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="p">{},</span> <span class="n">headers</span><span class="o">=</span><span class="p">{},)</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">r</span><span class="o">.</span><span class="n">json</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>

<span class="c1"># replace data</span>
<span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;off&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-red-fg">---------------------------------------------------------------------------</span>
<span class="ansi-red-fg">ModuleNotFoundError</span>                       Traceback (most recent call last)
In  <span class="ansi-blue-fg">[12]</span>:
Line <span class="ansi-blue-fg">4</span>:     <span class="ansi-blue-fg">import</span> <span class="ansi-cyan-fg ansi-underline">arrow</span>

<span class="ansi-red-fg">ModuleNotFoundError</span>: No module named &#39;arrow&#39;
<span class="ansi-red-fg">---------------------------------------------------------------------------</span></pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Schedule-the-scripts-with-Cloudwatch-events">Schedule the scripts with Cloudwatch events<a class="anchor-link" href="#Schedule-the-scripts-with-Cloudwatch-events"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Putting-it-all-together-in-a-Serverless-Application-Framework-template">Putting it all together in a Serverless Application Framework template<a class="anchor-link" href="#Putting-it-all-together-in-a-Serverless-Application-Framework-template"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Quality-of-Life-enhancements">Quality of Life enhancements<a class="anchor-link" href="#Quality-of-Life-enhancements"> </a></h2><p>When the target service is unavailable, it's quite unfriendly to show a blank 500 screen. A subsequent post outlines a solution for a forwarding service which can display an Open/Closed for business page to the user, with 'Opening times'</p>
<p>As part of what's become known as 'Chatops', it's useful to update team members and stakeholders about the status of the server. A future addition will be to use the Microsoft Teams API to notify interested parties.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Resources-used:-with-thanks-&#128154;">Resources used: with thanks &#128154;<a class="anchor-link" href="#Resources-used:-with-thanks-&#128154;"> </a></h1><ul>
<li>Curl converter <a href="https://github.com/NickCarneiro/curlconverter">Github repo</a></li>
</ul>
<ul>
<li><p>AWS Lambda and Secret Management Overview <a href="https://epsagon.com/development/aws-lambda-and-secret-management/">Blog post from  Espagon</a></p>
</li>
<li><p>Sharing Secrets with AWS Lambda Using AWS Systems Manager Parameter Store <a href="https://aws.amazon.com/blogs/compute/sharing-secrets-with-aws-lambda-using-aws-systems-manager-parameter-store/">AWS Compute blog post</a></p>
</li>
</ul>

</div>
</div>
</div>
</div>]]></content><author><name></name></author><category term="AWS Lambda" /><category term="automation" /><category term="python" /><summary type="html"><![CDATA[Using AWS lambda to automate boot up and down of a Digital Ocean droplet.]]></summary><media:thumbnail xmlns:media="http://search.yahoo.com/mrss/" url="https://words.howapped.com/images/dIAyXJa.png" /><media:content medium="image" url="https://words.howapped.com/images/dIAyXJa.png" xmlns:media="http://search.yahoo.com/mrss/" /></entry></feed>